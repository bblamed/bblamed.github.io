<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simple Drawing Board</title>
<style>
  body {
    margin: 0; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    background: #222;
    color: white;
    font-family: Arial, sans-serif;
    height: 100vh;
  }
  h1 {
    margin: 16px 0 0 0;
  }
  #toolbar {
    margin: 10px;
    display: flex;
    gap: 12px;
    align-items: center;
  }
  #canvas {
    border: 2px solid white;
    background: white;
    touch-action: none;
    cursor: crosshair;
  }
  label {
    user-select: none;
  }
  input[type=range] {
    width: 100px;
  }
  button {
    background: #444;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    color: white;
    cursor: pointer;
  }
  button:hover {
    background: #666;
  }
</style>
</head>
<body>

<h1>Simple Drawing Board</h1>

<div id="toolbar">
  <label for="colorPicker">Color:</label>
  <input type="color" id="colorPicker" value="#000000" />
  
  <label for="brushSize">Brush size:</label>
  <input type="range" id="brushSize" min="1" max="30" value="5" />
  
  <button id="clearBtn">Clear</button>
  <button id="saveBtn">Download</button>
</div>

<canvas id="canvas" width="800" height="600"></canvas>

<script>
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const colorPicker = document.getElementById('colorPicker');
  const brushSize = document.getElementById('brushSize');
  const clearBtn = document.getElementById('clearBtn');
  const saveBtn = document.getElementById('saveBtn');

  let drawing = false;
  let lastX = 0;
  let lastY = 0;

  // Set up initial brush settings
  ctx.lineCap = 'round';
  ctx.lineJoin = 'round';

  function startDraw(e) {
    drawing = true;
    [lastX, lastY] = getPointerPosition(e);
  }

  function stopDraw() {
    drawing = false;
  }

  function getPointerPosition(e) {
    if (e.touches && e.touches.length > 0) {
      const rect = canvas.getBoundingClientRect();
      return [
        e.touches[0].clientX - rect.left,
        e.touches[0].clientY - rect.top,
      ];
    } else {
      const rect = canvas.getBoundingClientRect();
      return [
        e.clientX - rect.left,
        e.clientY - rect.top,
      ];
    }
  }

  function draw(e) {
    if (!drawing) return;
    e.preventDefault();
    const [x, y] = getPointerPosition(e);
    ctx.strokeStyle = colorPicker.value;
    ctx.lineWidth = brushSize.value;

    ctx.beginPath();
    ctx.moveTo(lastX, lastY);
    ctx.lineTo(x, y);
    ctx.stroke();

    lastX = x;
    lastY = y;
  }

  canvas.addEventListener('mousedown', startDraw);
  canvas.addEventListener('touchstart', startDraw);

  canvas.addEventListener('mousemove', draw);
  canvas.addEventListener('touchmove', draw);

  canvas.addEventListener('mouseup', stopDraw);
  canvas.addEventListener('mouseout', stopDraw);
  canvas.addEventListener('touchend', stopDraw);
  canvas.addEventListener('touchcancel', stopDraw);

  clearBtn.addEventListener('click', () => {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  });

  saveBtn.addEventListener('click', () => {
    const link = document.createElement('a');
    link.download = 'my_drawing.png';
    link.href = canvas.toDataURL('image/png');
    link.click();
  });
</script>

</body>
</html>
